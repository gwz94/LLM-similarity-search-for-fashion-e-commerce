# OpenAI Assignment

## Demonstration of Skills

### Technical skills 
1. **Fullstack Prototype development** that translates abstract idea into workable fullstack application
2. **Customer-centric and creative thinking** involving strategic product presentation, personalized search and recommendations to enhance customer engagement and increase sales
3. **Strategic application of OpenAI models and techniques** in title/feature extraction, semantic similarity search, AI-powered reranking of products and personalized recommendation reason generation, ensuring structured output through precise prompting, strategic selection of product data for embedding vectorization to optimize semantic search performance
4. **Data Science skills** in data handling (Exploratory Data Analysis, data cleansing, feature engineering, handling missing value), hypothesis formulation, and strategic planning (separation of in-stock and out-of-stock products based on price availability)
5. **Accelerate process speed** through strategic database indexing, batch embedding and multiprocessing technique
6. **Rapid development** of user-friendly and visually appealing frontend to showcase application functionality, with creative titles and engaging messaging
7. **Modern software development practices** including Agile development, version control, API based microservices architecture, Docker containerization, unit testing, Object-Oriented Programming, environment separation (production/development), strict data type validation, comprehensive environment and settings management, thorough logging, and well-structured repository
8. **LLM application safeguarding and security** through strict and thorough query validation on both frontend and backend, implementing proper CORS policies to control cross-origin access and prevent unauthorized requests
9. **Easy-to-deploy repository** with minimal commands required to set up both frontend and backend services

### Soft skills
1. **Demonstrated client engagement** by proactively asking critical questions to HR (who played the role of client) regarding data handling strategy and application requirements
2. **Pay attention to client expectations**(application requirements) to ensure satisfactory deliverable
3. **Strategic scheduling** involving selective function implementation and optimal trade-offs between features to ensure timely delivery
4. **Ability to pay attention to small details** throughout the development process to ensure high-quality deliverable
5. **Effective presentation and documentation skills** demonstrated through comprehensive README creation and professional project showcasing to impress clients and stakeholders

## Application preview

### User Journey Through the Application

#### 1. Search Box
![Home Screen Before Search](images/Homescreen_before_search_1.png)

#### 2. In Stock Product Recommendation
*Dynamic search results showing semantic similarity search capability and AI-powered product recommendations with relevant matches.*
![Search Results](images/Homescreen_after_search_2.png)


#### 3. Out of Stock Product Recommendation
*Dynamic search results showing semantic similarity search capability and AI-powered product recommendations with relevant matches.*
![Out of Stock Products](images/Homescreen_out_of_stock_3.png)


#### 4. AI Insights Feature
*Recommendation reasons generated by LLM reranker based on the user query and details of products for better and personalized customer engagement experience.*
![AI Insights](images/Homescreen_AI_insight_4.png)

#### 5. Restock Notification
*Example of restock notification for highly recommended but out of stock products.*
![Restock Notifications](images/Homescreen_get_restock_notification_for_recommended_but_out_of_stock_5.png)

#### 6. Customizable Search Options
*Easy to enter customizable search options for enhanced customer engagement, personalized search result and improved accuracy*
![Personalized Search Options](images/Homescreen_options_for_personalized_search_6.png)

## Project Structure

```
.
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ ai_utils/                   # AI and machine learning utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â”œâ”€â”€ embeddings.py           # Text embedding generation using OpenAI
â”‚   â”‚   â”‚   â””â”€â”€ llm_reranker.py         # LLM-based search result reranking
â”‚   â”‚   â”œâ”€â”€ config/                     # Application configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â””â”€â”€ settings.py             # Environment and application settings
â”‚   â”‚   â”œâ”€â”€ database/                   # Database operations
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â”œâ”€â”€ Dockerfile              # Database container configuration for database
â”‚   â”‚   â”‚   â”œâ”€â”€ insert_data.py          # Product data insertion and preprocessing
â”‚   â”‚   â”‚   â””â”€â”€ vector_db.py            # Vector database operations
â”‚   â”‚   â”œâ”€â”€ deps/                       # Dependency injection
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â””â”€â”€ db.py                   # Database connection management
â”‚   â”‚   â”œâ”€â”€ preprocessing/              # Data preprocessing pipeline
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â”œâ”€â”€ data_cleaning.py        # Data cleaning and normalization
â”‚   â”‚   â”‚   â”œâ”€â”€ embedding_generation.py # Product embedding generation
â”‚   â”‚   â”‚   â”œâ”€â”€ preprocess_pipeline.py  # Data preprocessing pipeline
â”‚   â”‚   â”‚   â””â”€â”€ product_image_feature_extraction.py # Image feature extraction
â”‚   â”‚   â”œâ”€â”€ schemas/                    # Data validation schemas
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â””â”€â”€ query_shema.py          # Search query validation
â”‚   â”‚   â”œâ”€â”€ utils/                      # Utility functions
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”‚   â”‚   â””â”€â”€ logger.py               # Logging configuration
â”‚   â”‚   â””â”€â”€ main.py                     # FastAPI application entry point
â”‚   â”œâ”€â”€ tests/                          # Test suite
â”‚   â”‚   â”œâ”€â”€ __init__.py                 
â”‚   â”‚   â”œâ”€â”€ conftest.py                 # Test configuration and fixtures
â”‚   â”‚   â””â”€â”€ test_search.py              # Search functionality tests
â”‚   â”œâ”€â”€ Dockerfile                      # Backend production container
â”‚   â””â”€â”€ requirements.txt                # Python dependencies
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/                 # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                     # Reusable UI components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ai-insight.tsx      # AI insight display component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ product-card.tsx    # Product card component
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ product-carousel.tsx # Image carousel component
â”‚   â”‚   â”‚   â”œâ”€â”€ PageSkeleton.tsx        # Loading skeleton component
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBox.tsx           # Search input component
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchForm.tsx          # Search form component
â”‚   â”‚   â”‚   â””â”€â”€ SearchResults.tsx       # Search results display
â”‚   â”‚   â”œâ”€â”€ services/                   # API services
â”‚   â”‚   â”‚   â””â”€â”€ api.ts                  # API client and endpoints
â”‚   â”‚   â”œâ”€â”€ types/                      # TypeScript type definitions
â”‚   â”‚   â”‚   â””â”€â”€ product.ts              # Product interface definitions
â”‚   â”‚   â”œâ”€â”€ app/                        # Next.js app directory
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                # Main page component
â”‚   â”‚   â””â”€â”€ globals.css                 # Global styles
â”‚   â”œâ”€â”€ public/                         # Static assets
â”‚   â”‚   â””â”€â”€ favicon.ico                 # Site favicon
â”‚   â”œâ”€â”€ Dockerfile                      # Frontend production container
â”‚   â”œâ”€â”€ Dockerfile.dev                  # Frontend development container
â”‚   â”œâ”€â”€ next.config.js                  # Next.js configuration
â”‚   â”œâ”€â”€ next-env.d.ts                   # Next.js TypeScript definitions
â”‚   â”œâ”€â”€ package.json                    # Node.js dependencies
â”‚   â”œâ”€â”€ package-lock.json               # Dependency lock file
â”‚   â”œâ”€â”€ postcss.config.js               # PostCSS configuration
â”‚   â”œâ”€â”€ tailwind.config.ts              # Tailwind CSS configuration
â”‚   â””â”€â”€ tsconfig.json                   # TypeScript configuration
â”‚
â”œâ”€â”€ images/                             # Documentation images and screenshots
â”œâ”€â”€ docker-compose.yml                  # Docker services configuration
â”œâ”€â”€ startup.sh                          # Application startup script
â””â”€â”€ README.md                           # Project documentation
```

## Features

### ðŸ” AI-Powered Search
- Semantic search using OpenAI embeddings
- LLM-based result reranking
- Intelligent product recommendations

### ðŸŽ¨ Modern UI
- Responsive design with Tailwind CSS
- Product carousel and cards
- Real-time search results

### ðŸš€ Easy Deployment
- Docker containerization
- Automated startup script
- Environment-specific configurations

## Quick Start

### Prerequisites
- Docker and Docker Compose
- OpenAI API key

### Installation

1. **Set up environment variables**
   ```bash
   # Add your OpenAI API key to backend/.env.production
   echo "OPENAI_API_KEY=your_api_key_here" >> backend/.env.production
   ```

2. **Start the application**
   ```bash
   # For production
   ./startup.sh prod
   
   # For development
   ./startup.sh dev
   ```
   
   **Note:** Initial data insertion may take approximately 30 minutes for half the dataset. To reduce processing time, you can increase the `DATA_LOAD_FRACTION` in `backend/app/config/settings.py` to insert lesser data.

3. **Access the application**
   - **Local Development:**
     - Frontend: http://localhost:3001
     - Backend API: http://localhost:8001
   
   - **VM Deployment:**
     - Frontend: http://[VM_IP]:3001
     - Backend API: http://[VM_IP]:8001
   
   **Note:** The startup script automatically detects VM environment and displays the correct URLs after the startup.sh finish

## Advanced Feature Engineering

To extract additional product metadata and enhance search capabilities:

- Uncomment lines 49-61 in `backend/app/preprocessing/preprocess_pipeline.py` to extract more features from in-stock products for enhanced metadata

## Architecture

The application follows a microservices architecture with:
- **Frontend**: Next.js with TypeScript and Tailwind CSS
- **Backend**: FastAPI with Python
- **Database**: PostgreSQL with vector extensions
- **AI Services**: OpenAI embeddings and LLM integration

## Development

### Running Tests
```bash
# Backend tests
cd backend
python -m pytest

# Frontend tests
cd frontend
npm test
```

### Code Quality
- Backend: Black, flake8, mypy
- Frontend: ESLint, Prettier, TypeScript

## Deployment

### Production Deployment
```bash
./startup.sh prod
```

### Development Environment
```bash
./startup.sh dev
```
